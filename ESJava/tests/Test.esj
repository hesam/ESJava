import polyglot.ext.esj.primitives.*;
import polyglot.ext.esj.tologic.*;

//import java.util.HashSet;
import java.util.ArrayList;
import java.util.Iterator;

import java.awt.Point;

public class Test {


    spec protected Integer x;
    spec protected Integer y;
    spec protected ESJList<ESJPoint> points;

    public Test(Integer x, Integer y) {
	super();
	this.x = x;
	this.y = y;
	this.points = new ESJList<ESJPoint>();
	this.points.add(new ESJPoint(10,22));
	this.points.add(new ESJPoint(0,1));
	this.points.add(new ESJPoint(-5,10));
    }
    
    public Integer x() { return x; }
    public Integer y() { return y; }
    public void x(Integer v) { this.x = v; }
    public void y(Integer v) { this.y = v; }

    /*public pure Integer twice(Integer i)
	ensures result == 2*i+this.x {
	int z = 1/0;
	return 2*i+this.x;
	}*/

    public pure ESJPoint pick()
	ensures result != null && result.x > 0 && result.y > 0 {
	return this.points.get(0);
    }

    public String toString() { return "(" + x + "," + y + ")"; }


    public static void main(String[] args) {	
	LogMap.SolverOpt_debugLevel(2);
	ESJInteger.setBounds(0,60);
	Test t1 = new Test(13, 10);
	System.out.println(t1);
	//System.out.println(t1.twice(5));
	System.out.println(t1.pick());
    }

}
